#!/usr/bin/env python
#-*-coding:utf-8-*-

import sys, os

sys.path.append(os.path.dirname(os.path.abspath(os.path.dirname(__file__))) + "/path_planning")

# Module import
from global_path import GlobalPath


# Parameter
# path_name = .npy
path_name = 'dgtest8.npy'
# coord = [[x1,y1],
#          [x2,y2]] -> 미션 시작 좌표들(s좌표 알고 싶은 좌표들)
coord = [[  955780.92739402 , 1951236.6616753 ],
 [  955780.83290053 , 1951237.16144469],
 [  955780.53491451 , 1951237.59572927],
 [  955780.21161426 , 1951238.25204471],
 [  955779.93135158 , 1951238.6973297 ],
 [  955779.67770338 , 1951239.16466252],
 [  955779.36246704 , 1951239.67670263],
 [  955779.02944836 , 1951240.16664789],
 [  955778.74971773 , 1951240.71178329],
 [  955778.38190273 , 1951241.30176714],
 [  955778.14603707 , 1951241.79119489],
 [  955777.83074181 , 1951242.29214058],
 [  955777.53340628 , 1951242.84846461],
 [  955777.22747512 , 1951243.44921365],
 [  955776.89463404 , 1951243.97244246],
 [  955776.62391306 , 1951244.55081434],
 [  955776.29124938 , 1951245.10732663],
 [  955775.98484556 , 1951245.61931983],
 [  955775.68745116 , 1951246.16454945],
 [  955775.35449208 , 1951246.66558935],
 [  955775.11009021 , 1951247.21053667],
 [  955774.76835823 , 1951247.72271813],
 [  955774.49746021 , 1951248.26780663],
 [  955774.16467861 , 1951248.80213004],
 [  955773.84973852 , 1951249.36964281],
 [  955773.57006766 , 1951249.92587289],
 [  955773.21950382 , 1951250.43810147],
 [  955772.96627014 , 1951250.98309591],
 [  955772.64226171 , 1951251.50627784],
 [  955772.37136395 , 1951252.05136642],
 [  955772.1087072  , 1951252.48546309],
 [  955771.76685741 , 1951252.97545571],
 [  955771.47823652 , 1951253.50954394],
 [  955771.08315796 , 1951253.955441  ],
 [  955770.80301453 , 1951254.42291528],
 [  955770.54936734 , 1951254.8902484 ],
 [  955770.31362076 , 1951255.40186536],
 [  955770.08676539 , 1951255.92452975],
 [  955769.74450207 , 1951256.33686105],
 [  955769.49091411 , 1951256.81528869],
 [  955769.0957767  , 1951257.25009135],
 [  955768.79791026 , 1951257.70656535],
 [  955768.52665827 , 1951258.18508714],
 [  955768.21100954 , 1951258.6194663 ],
 [  955768.00164117 , 1951259.10875317],
 [  955767.69506103 , 1951259.58746324],
 [  955767.44123682 , 1951260.021513  ],
 [  955767.16115293 , 1951260.5000819 ]]
# 이렇게 설정하고 코드 돌리면 coord의 s좌표가 나옴 

class find_s:
    def __init__(self):
        GLOBAL_NPY = path_name
        PATH_ROOT=(os.path.dirname(os.path.abspath(os.path.dirname(os.path.abspath(os.path.dirname(__file__))))))+"/path/npy_file/path/"
        gp_name = PATH_ROOT + GLOBAL_NPY

        self.GB = GlobalPath(gp_name)

    def main(self):
        num = 0
        for i in coord:
            num += 1
            s_t, p_t = self.GB.xy2sl(i[0], i[1], mode = 1)
            print(num),i, '의 s 좌표는 =>>', s_t


if __name__ == '__main__':
    F = find_s()
    F.main()